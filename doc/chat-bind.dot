digraph protocol_events {
  ranksep=0.1;

  subgraph start {
    rank=same;

    cStart [label="Client"];
    sStart [style=invis];
  };

  subgraph cluster_client {
    style=invis;
    node [width=0, height=0, label=""];
    edge [weight=100, arrowhead=none];

    cEnd [style=invis];
    cStart -> c1 -> c2 -> c3 -> c4 -> c5 -> c6 -> c7
      -> c8;
    c8 -> cEnd [arrowhead=normal];
  };

  subgraph cluster_server {
    style=invis;

    s1 [label="Server"];
    sStart -> s1 [style=invis];

    node [width=0, height=0, label=""];
    edge [weight=100, arrowhead=none];

    sEnd [style=invis];
    s1 -> s2 -> s3 -> s4 -> s5 -> s6 -> s7
      -> s8;
    s8 -> sEnd [arrowhead=normal];
  };

  c1 -> s2 [label="connect"];
  s3 -> c4 [label="connect ok"];
  c5 -> s6 [label="bind"];
  s7 -> c8 [label="bind ok"];
};
