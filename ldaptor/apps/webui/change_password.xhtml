<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:nevow="http://nevow.com/ns/nevow/0.1">
  <head>
    <title>Ldaptor Password Change Page</title>
    <nevow:invisible nevow:render="sequence" nevow:data="css">
      <link rel="stylesheet" 
	    nevow:pattern="item"
	    nevow:render="css_item">
	<nevow:attr name="href"><nevow:slot name="url"/></nevow:attr>
      </link>
    </nevow:invisible>
  </head>
  <body>
    <h1>Ldaptor Password Change Page</h1>

    <p nevow:render="sequence" nevow:data="header"><span
    nevow:pattern="header">[</span><span nevow:pattern="item" nevow:render="passthrough">foo</span><span
    nevow:pattern="divider">|</span><span
    nevow:pattern="footer">]</span></p>

    <strong>
      <span nevow:render="string" nevow:data="status"/>
    </strong>

    <p>
      About to set password for <span nevow:render="string" nevow:data="dn"/>.
    </p>

    <form name="change_password" method="post" action="PLACEHOLDER" nevow:render="form">
      <p>Form goes here</p>
    </form>

    <h2>Service passwords</h2>

    <div class="freeform-form" nevow:render="hideIfNot" nevow:data="servicePasswords">
      <div class="freeform-form-label">Current service passwords</div>
      <table nevow:render="sequence"
	     style="width: 100%;" class="emulate-fieldset">
	<thead nevow:pattern="header">
	  <tr nevow:render="zebra">
	    <th style="text-align: left;">Service</th>
	    <th style="text-align: left;">Actions</th>
	  </tr>
	</thead>
	<tbody>
	  <tr nevow:pattern="item" nevow:render="zebra">
	    <td nevow:data="attributes">
	      <nevow:invisible nevow:render="sequence" nevow:data="cn">
		<span nevow:pattern="item" nevow:render="string">Service name here</span>
	      </nevow:invisible>
	    </td>
	    <td>
	      <nevow:invisible nevow:render="form_service">
		<form name="service_password"
		      method="post"
		      enctype="multipart/form-data"
		      action="PLACEHOLDER"
		      nevow:pattern="freeform-form" 
		      style="display: inline; padding: 0.5em;">
		  <nevow:attr name="id">
		    <nevow:slot name="form-id"/>
		  </nevow:attr>
		  <nevow:attr name="action">
		    <nevow:slot name="form-action"/>
		  </nevow:attr>
		  <nevow:invisible nevow:pattern="argument">
		    <label>
		      <nevow:attr name="for"><nevow:slot name="id"/></nevow:attr>
		      <nevow:slot name="label"/>
		    </label>
		    <span class="freeform-input">
		      <nevow:slot name="input"/>
		    </span>
		    <nevow:slot name="form-error"/>
		    <span class="freeform-error">
		      <nevow:slot name="error"/>
		    </span>
		    <span class="freeform-description">
		      <label>
			<nevow:attr name="for"><nevow:slot name="id"/></nevow:attr>
			<nevow:slot name="description"/>
		      </label>
		    </span>
		  </nevow:invisible>
		  <nevow:slot name="form-arguments"/>
		  <nevow:slot name="form-button"/>
		</form>
	      </nevow:invisible>
	    </td>
	  </tr>
	</tbody>
      </table>
    </div>
    <div style="margin-top: 1em;">
     <nevow:invisible nevow:render="add" />
    </div>
  </body>
</html>
